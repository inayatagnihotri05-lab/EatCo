<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EcoRun ðŸŒ¿</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #c7f8ff;
      font-family: Arial;
    }
    #facts {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255,255,255,0.75);
      padding: 10px 20px;
      border-radius: 12px;
      font-size: 14px;
      backdrop-filter: blur(6px);
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas"></canvas>
  <div id="facts">Loading eco facts...</div>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // PARALLAX
    const layers = [
      { color: "#bde9ff", speed: 0.2 },
      { color: "#a1cff7", speed: 0.4 },
      { color: "#78b0e8", speed: 0.7 }
    ];

    const clouds = [];
    for (let i = 0; i < 6; i++) {
      clouds.push({ x: Math.random()*canvas.width, y: 60+Math.random()*80 });
    }

    let mountainOffset = 0;
    let treeOffset = 0;

    function drawParallax() {
      layers.forEach((layer, i) => {
        ctx.fillStyle = layer.color;
        ctx.fillRect(0, i * canvas.height/3, canvas.width, canvas.height/3);
      });

      ctx.fillStyle = "white";
      clouds.forEach(c => {
        c.x -= 0.3;
        if (c.x < -120) c.x = canvas.width + 100;
        ctx.beginPath(); ctx.arc(c.x, c.y, 40, 0, 2*Math.PI); ctx.fill();
      });

      mountainOffset -= 0.5;
      if (mountainOffset <= -canvas.width) mountainOffset = 0;
      ctx.fillStyle = "#8db0d9";
      drawMountain(mountainOffset);
      drawMountain(mountainOffset + canvas.width);

      treeOffset -= 2;
      if (treeOffset <= -canvas.width) treeOffset = 0;
      ctx.fillStyle = "#2e7d32";
      drawTrees(treeOffset);
      drawTrees(treeOffset + canvas.width);
    }

    function drawMountain(x) {
      ctx.beginPath();
      ctx.moveTo(x, canvas.height - 150);
      ctx.lineTo(x + 250, canvas.height - 350);
      ctx.lineTo(x + 500, canvas.height - 150);
      ctx.closePath();
      ctx.fill();
    }

    function drawTrees(x) {
      for (let i = 0; i < 8; i++) {
        let tx = x + i * 150;
        ctx.fillRect(tx, canvas.height - 140, 35, 140);
      }
    }

    // SIMPLE PLAYER
    let player = { x: 100, y: canvas.height - 160, vy: 0, jumping: false };

    function drawPlayer() {
      ctx.fillStyle = "#ffdd57";
      ctx.fillRect(player.x, player.y, 50, 50);
    }

    function updatePlayer() {
      player.vy += 1.1;
      player.y += player.vy;

      if (player.y >= canvas.height - 160) {
        player.y = canvas.height - 160;
        player.vy = 0;
        player.jumping = false;
      }
    }

    window.addEventListener("keydown", e => {
      if (e.code === "Space" && !player.jumping) {
        player.vy = -22;
        player.jumping = true;
      }
    });

    function loop() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      drawParallax();
      drawPlayer();
      updatePlayer();
      requestAnimationFrame(loop);
    }
    loop();

    // UNIQUE ECO FACTS
    const ecoFacts = [
      "Recycling one plastic bottle saves enough energy to power a light bulb for 3 hours!",
      "Glass can be recycled endlessly without losing quality.",
      "Every ton of recycled paper saves 17 trees.",
      "Composting can reduce household waste by up to 30%.",
      "Producing recycled aluminum uses 95% less energy than new aluminum.",
      "A single tree absorbs about 22 kg of CO2 every year."
    ];

    document.getElementById("facts").innerText = ecoFacts[Math.floor(Math.random()*ecoFacts.length)];
  </script>
</body>
</html>
